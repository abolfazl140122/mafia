<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اسکورت گیم - در حال بارگذاری</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- General Setup & Theme --- */
        :root {
            --dark-blue-bg: #0d1117;
            --dark-blue-secondary: #161b22;
            --accent-red: #ff1432;
            --accent-blue: #007bff;
            --text-light: #e6edf3;
            --text-muted: #8b949e;
            --border-color: #30363d;
        }

        /* --- Keyframe Animations --- */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes noise {
            0%, 100% { background-position: 0 0; }
            10% { background-position: -5% -10%; }
            20% { background-position: -15% 5%; }
            30% { background-position: 7% -25%; }
            40% { background-position: 20% 25%; }
            50% { background-position: -25% 10%; }
            60% { background-position: 15% 5%; }
            70% { background-position: 0% 15%; }
            80% { background-position: 25% 35%; }
            90% { background-position: -10% 10%; }
        }
        
        /* The dual-color glow animation */
        @keyframes pulseBlue {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.1); opacity: 0.9; }
        }

        @keyframes pulseRed {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.1); opacity: 0.9; }
        }


        /* --- Body & Background --- */
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: var(--dark-blue-bg);
            color: var(--text-light);
            margin: 0;
            overflow: hidden;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        /* Cinematic noise overlay */
        body::after {
            content: "";
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background-image: url('https://www.transparenttextures.com/patterns/black-felt.png');
            opacity: 0.04;
            animation: noise 8s steps(10) infinite;
            z-index: 0;
            pointer-events: none;
        }

        /* --- Title Font --- */
        .title-font {
            font-family: 'Anton', 'Vazirmatn', sans-serif;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        /* --- Loading Screen Layout --- */
        #loading-screen {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            width: 100%;
            max-width: 500px;
            padding: 20px;
            animation: fadeIn 1s ease-out;
        }

        /* --- Logo Container & The Magical Glow Effect --- */
        #logo-container {
            position: relative; /* Crucial for positioning the glow pseudo-elements */
            margin-bottom: 1.5rem;
            animation: scaleIn 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        /* This is the glow effect implementation */
        #logo-container::before,
        #logo-container::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 180%; /* Wider than the logo to create a soft side glow */
            height: 180%; /* Taller as well */
            transform: translateY(-50%);
            z-index: -1; /* Place it BEHIND the logo's img tag */
            filter: blur(55px); /* This makes the glow soft and light-like */
        }

        /* The BLUE glow on the LEFT */
        #logo-container::before {
            left: -40%; /* Position it to the left */
            background: radial-gradient(circle, var(--accent-blue) 0%, rgba(0, 123, 255, 0) 65%);
            animation: pulseBlue 5s infinite ease-in-out;
        }

        /* The RED glow on the RIGHT */
        #logo-container::after {
            right: -40%; /* Position it to the right */
            background: radial-gradient(circle, var(--accent-red) 0%, rgba(255, 20, 50, 0) 65%);
            animation: pulseRed 5s infinite ease-in-out;
            animation-delay: -2.5s; /* This makes the red and blue pulse at different times */
        }
        
        #loading-logo {
            max-width: 280px;
            width: 70%;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.4));
        }

        /* --- Game Title --- */
        #game-title {
            font-size: 4rem;
            color: var(--text-light);
            margin: 0;
            line-height: 1.1;
            text-shadow: 
                0 0 10px rgba(0, 123, 255, 0.3),
                0 0 20px rgba(255, 20, 50, 0.3),
                0 2px 4px rgba(0, 0, 0, 0.5);
            animation: fadeInUp 1.5s ease-out;
            animation-delay: 0.2s;
            opacity: 0;
            animation-fill-mode: forwards;
        }
        @media (max-width: 600px) {
            #game-title {
                font-size: 3rem;
            }
        }

        /* --- Progress Bar --- */
        #loading-progress-bar-container {
            width: 100%;
            background-color: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-color);
            border-radius: 50px;
            padding: 4px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.4);
            margin-top: 2rem;
            animation: fadeInUp 1.5s ease-out;
            animation-delay: 0.4s;
            opacity: 0;
            animation-fill-mode: forwards;
        }
        
        #loading-progress-bar-fill {
            height: 14px;
            width: 0%; /* Starts at 0, controlled by JS */
            background: linear-gradient(90deg, var(--accent-blue), var(--accent-red));
            border-radius: 50px;
            transition: width 0.5s ease-out;
            box-shadow: 0 0 10px var(--accent-red), 0 0 5px var(--accent-blue);
        }

        /* --- Loading Messages --- */
        #loading-message {
            margin-top: 1rem;
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--text-light);
            min-height: 28px; /* Prevent layout shift */
            animation: fadeInUp 1.5s ease-out;
            animation-delay: 0.6s;
            opacity: 0;
            animation-fill-mode: forwards;
        }

        #loading-tip {
            margin-top: 2rem;
            font-size: 0.9rem;
            color: var(--text-muted);
            min-height: 40px; /* Prevent layout shift */
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeInUp 1.5s ease-out;
            animation-delay: 0.8s;
            opacity: 0;
            animation-fill-mode: forwards;
            transition: opacity 0.5s ease;
        }
    </style>
</head>
<body>

    <div id="loading-screen">
        <div id="logo-container">
            <img id="loading-logo" src="https://up.20script.ir/file/adde-Copilot-20250812-110015-removebg-preview.png" alt="لوگوی اسکورت گیم">
        </div>
        
        <h1 id="game-title" class="title-font">Escort Game</h1>
        
        <div id="loading-progress-bar-container">
            <div id="loading-progress-bar-fill"></div>
        </div>
        
        <p id="loading-message">در حال آماده سازی پایگاه...</p>
        
        <p id="loading-tip">نکته: همیشه یک نقشه جایگزین داشته باش.</p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const progressBar = document.getElementById('loading-progress-bar-fill');
            const loadingMessage = document.getElementById('loading-message');
            const loadingTip = document.getElementById('loading-tip');

            const tips = [
                "نکته: همیشه یک نقشه جایگزین داشته باش.",
                "اطلاعات، قدرتمندترین اسلحه است.",
                "در سایه‌ها حرکت کن، در روشنایی ضربه بزن.",
                "اعتماد هزینه‌بر است، خیانت کشنده.",
                "هر عملیاتی نیاز به یک استراتژی دقیق دارد.",
                "سکوت گاهی اوقات بلندترین فریاد است."
            ];
            let currentTipIndex = 0;
            let tipInterval;

            function updateTip() {
                currentTipIndex = (currentTipIndex + 1) % tips.length;
                loadingTip.style.opacity = '0';
                setTimeout(() => {
                    loadingTip.textContent = tips[currentTipIndex];
                    loadingTip.style.opacity = '1';
                }, 500);
            }

            function simulateLoading() {
                // Start cycling through tips
                tipInterval = setInterval(updateTip, 4000);

                // Stage 1: Connecting
                setTimeout(() => {
                    progressBar.style.width = '25%';
                    loadingMessage.textContent = 'در حال برقراری ارتباط با سرورهای امن...';
                }, 500);

                // Stage 2: Authenticating
                setTimeout(() => {
                    progressBar.style.width = '50%';
                    loadingMessage.textContent = 'احراز هویت...';
                }, 2000);

                // Stage 3: Loading Assets
                setTimeout(() => {
                    progressBar.style.width = '75%';
                    loadingMessage.textContent = 'بارگذاری منابع بازی...';
                }, 3500);
                
                // Stage 4: Finalizing
                setTimeout(() => {
                    progressBar.style.width = '100%';
                    loadingMessage.textContent = 'خوش آمدید!';
                }, 5000);
                
                // Stage 5: Loading Complete
                setTimeout(() => {
                    clearInterval(tipInterval); // Stop tips
                    // In a real game, you would redirect to the main page or show the main menu
                    // For example: window.location.href = 'main.html';
                    console.log("Loading complete! Ready to start the game.");
                    
                    // Fade out effect before redirecting
                    document.getElementById('loading-screen').style.transition = 'opacity 0.5s ease-out';
                    document.getElementById('loading-screen').style.opacity = '0';

                }, 5800);
            }

            // Start the loading simulation
            simulateLoading();
        });
    </script>

</body>
</html>
